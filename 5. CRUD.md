# 5. CRUD
## Generate the code
Generate a resource, with generated CRUD endpoints (code first GraphQL)
```bash
nest g resource <name>
```
Set the name to owners

Select “GraphQL (code first)”

Generate CRUD entry points? → Yes

## Entity Definition
Same as pets entity difinition.

Set up database relationship.


## CRUD
### The Read of CRUD
Find queries are pretty straightforward:

```typescript
// users.resolver.ts

@Query(() => [User], { name: 'users' })
async findAll(): Promise<User[]> {
  return this.usersService.findAll();
}

@Query(() => User, { name: 'user' })
async findOne(
  @Args('uuid', { type: () => String }) uuid: string,
): Promise<User> {
  return this.usersService.findOne(uuid);
}
```

```typescript
// users.service.ts

async findAll() {
  return this.userRepo.find();
}

async findOne(uuid: string) {
  return this.userRepo.findOneBy({ uuid });
}
```

### The Update of CRUD

```typescript

```
```typescript

```
```typescript

```
```typescript

```
```typescript

```
